---
import { getImage } from "astro:assets";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import backgroundImage from "../assets/images/logo-bg.svg";

// Optimize the background image
const optimizedBackground = await getImage({
  src: backgroundImage,
  format: "webp",
});

const { pageTitle, pageDescription } = Astro.props;
---

<!doctype html>
<html lang="en" class="h-full">
  <head>
    <BaseHead title={pageTitle} description={pageDescription} />
  </head>
  <body
    class="h-full flex flex-col text-primary"
    style={`background-image: url(${optimizedBackground.src}); background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center; overscroll-behavior: none;`}
  >
    <Header class="w-full" />
    <main class="flex-grow">
      <slot />
    </main>
    <Footer class="mt-auto" />
  </body>
</html>
